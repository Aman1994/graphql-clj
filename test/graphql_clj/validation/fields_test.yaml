sceniario: Fields
background:
  schema-file: validation.schema.graphql
tests:
  - name: Field Selections on Objects, Interfaces, and Unions Types - Invalid
    given:
      schema-file: validation.schema.graphql
      query: |
        fragment fieldNotDefined on Dog {
          meowVolume
        }

        fragment aliasedLyingFieldTargetNotDefined on Dog {
          barkVolume: kawVolume
        }
    when:
      validate: [fields]
    then:
      error:
  - name: Field Selections on Objects, Interfaces, and Unions Types - Valid
    given:
      schema-file: validation.schema.graphql
      query: |
        fragment interfaceFieldSelection on Pet {
          name
        }
    when:
      validate: [fields]
    then:
      passes:
  - name: Field Selections on Objects, Interfaces, and Unions Types - Invalid 2
    given:
      schema-file: validation.schema.graphql
      query: |
        fragment definedOnImplementorsButNotInterface on Pet {
          nickname
        }
    when:
      validate: [fields]
    then:
      error:
  - name: Fields from a union‚Äêtyped selection set must only be queried indirectly via a fragment
    given:
      schema-file: validation.schema.graphql
      query: |
        fragment inDirectFieldSelectionOnUnion on CatOrDog {
          __typename
          ... on Pet {
            name
          }
          ... on Dog {
            barkVolume
          }
        }
    when:
      validate: [fields]
    then:
      passes:
