scenario: Operations
background:
  schema-file: operations.schema.graphql
tests:
  - name: Operation Name Uniqueness - Valid
    given:
      query: |
        query getDogName {
          dog {
            name
          }
        }

        query getOwnerName {
          dog {
            owner {
              name
            }
          }
        }
    when:
      validate: [operations]
    then:
      passes:
        
  - name: Operation Name Uniqueness - Invalid
    given:
      query: |
        query getName {
          dog {
            name
          }
        }

        query getName {
          dog {
            owner {
              name
            }
          }
        }
    when:
      validate: [operations]
    then:
      error:

  - name: Operation Name Uniqueness - Invalid
    given:
      query: |
        query dogOperation {
          dog {
            name
          }
        }

        mutation dogOperation {
          mutateDog {
            id
          }
        }
    when:
      validate: [operations]
    then:
      error:
      
  - name: Lone Anonymous Operation - Valid
    given:
      query: |
        {
          dog {
            name
          }
        }
    when:
      validate: [operations]
    then:
      passes:

  - name: Lone Anonymous Operation - Valid
    given:
      query: |
        {
          dog {
            name
          }
        }

        query getName {
          dog {
            owner {
              name
            }
          }
        }
    when:
      validate: [operations]
    then:
      error:
